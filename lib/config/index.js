"use strict";function ConfigManager(e){this._config={},this.urlJoin=configUrl.urlJoin,this.urlFor=configUrl.urlFor,this.getBaseUrl=configUrl.getBaseUrl,e&&_.isObject(e)&&this.set(e)}var _=require("lodash"),configUrl=require("./url"),defaultConfig={};ConfigManager.prototype.set=function(e){var t,i,s,o,n="";t=e.config||{},i=e.theme||{},console.log("========= Set Config ",t),_.merge(this._config,t),t&&t.theme&&t.theme.navigation&&(this._config.theme.navigation=t.theme.navigation),this._config.paths=this._config.paths||{},this._config.url=t.urls&&t.urls.site,s="/"===n?"":n,_.isEmpty(s)||this._config.slugs["protected"].push(s.split("/").pop()),o=Date.now(),_.merge(this._config,{paths:{subdir:"",imagesRelPath:"content/images"},activeTheme:{url:t.urls&&t.urls.theme,name:t.theme&&t.theme.name},theme:{url:t.urls&&t.urls.theme,title:t.site&&t.site.title},routeKeywords:{tag:"tag",author:"author",page:"page",preview:"p","private":"private"},slugs:{reserved:["admin","app","apps","archive","archives","categories","category","dashboard","feed","ghost-admin","login","logout","page","pages","post","posts","public","register","setup","signin","signout","signup","user","users","wp-admin","wp-login"],"protected":["ghost","rss"]},assetHash:o}),configUrl.setConfig(this._config),_.extend(this,this._config),console.log("ConfigManager ==================",this)},ConfigManager.prototype.get=function(){return this._config},ConfigManager.prototype.isPrivacyDisabled=function(e){return!1},module.exports=new ConfigManager(defaultConfig);