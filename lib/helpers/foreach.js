"use strict";var handlebars=require("handlebars"),hbs={handlebars:handlebars},_=require("lodash"),hbsUtils=hbs.handlebars.Utils,foreach;foreach=function(a,e){function t(e,t,s){r&&(r.key=e,r.index=t,r.number=t+1,r.first=t===c-1,r.last=!!s,r.even=t%2===1,r.odd=!r.even,r.rowStart=t%i===0,r.rowEnd=t%i===i-1,n&&(r.contextPath=n+e)),u+=h(a[e],{data:r,blockParams:hbsUtils.blockParams([a[e],e],[n+e,null])})}function s(a){var e=1,s=1;_.each(a,function(a,r){return c>s?void(s+=1):(b>=s&&t(r,s-1,s===b),e+=1,void(s+=1))})}e||console.error("Helpers foreach needs an iterator");var r,n,h=e.fn,o=e.inverse,i=e.hash.columns,l=_.size(a),d=parseInt(e.hash.limit,10)||l,c=parseInt(e.hash.from,10)||1,b=parseInt(e.hash.to,10)||c-1+d,u="";return e.data&&e.ids&&(n=hbsUtils.appendContextPath(e.data.contextPath,e.ids[0])+"."),hbsUtils.isFunction(a)&&(a=a.call(this)),e.data&&(r=hbs.handlebars.createFrame(e.data)),a&&"object"==typeof a&&s(a),0===l&&(u=o(this)),u},module.exports=foreach;