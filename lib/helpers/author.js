"use strict";var handlebars=require("handlebars"),hbs={handlebars:handlebars},_=require("lodash"),config=require("../config"),utils=require("./utils"),author;author=function(a,r){if(_.isUndefined(r)&&(r=a),r.fn)return hbs.handlebars.helpers["with"].call(this,this.author,r);var e=!_.isString(r.hash.autolink)||"false"!==r.hash.autolink,t="";return this.author&&this.author.name&&(t=e?utils.linkTemplate({url:config.urlFor("author",{author:this.author}),text:_.escape(this.author.name)}):_.escape(this.author.name)),new hbs.handlebars.SafeString(t)},module.exports=author;