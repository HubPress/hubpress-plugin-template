"use strict";function logAndThrowError(e){throw console.log(e),new Error(e)}var _=require("lodash"),handlebars=require("handlebars"),hbs={handlebars:handlebars},template=require("./template"),navigation;navigation=function(e){function r(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function n(e,r){var n=e.replace(/\/+$/,""),a=r.replace(/\/+$/,"");return n===a}var a,l,i=e.data.blog.navigation,t=e.data.root.relativeUrl,o=this;return!_.isObject(i)||_.isFunction(i)?logAndThrowError("warnings.helpers.navigation.invalidData"):i.filter(function(e){return _.isUndefined(e.label)||_.isUndefined(e.url)}).length>0?logAndThrowError("warnings.helpers.navigation.valuesMustBeDefined"):i.filter(function(e){return!_.isNull(e.label)&&!_.isString(e.label)||!_.isNull(e.url)&&!_.isString(e.url)}).length>0?logAndThrowError("warnings.helpers.navigation.valuesMustBeString"):0===i.length?new hbs.handlebars.SafeString(""):(a=i.map(function(e){var a={};return a.current=n(e.url,t),a.label=e.label,a.slug=r(e.label),a.url=hbs.handlebars.Utils.escapeExpression(e.url),a.secure=o.secure,a}),l=_.merge({},{navigation:a}),template.execute("navigation",l,e))},module.exports=navigation;