"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function generateTags(e){console.info("TagsGenerator - generate"),console.log("TagsGenerator - generate",e);var a="tag",t=void 0;if(!_builder2["default"].isTemplateAvailable(a))return e;if(e.data.post&&!e.data.post.tags&&!e.data.tags)return e;t=e.data.tags?e.data.publishedPosts.filter(function(a){return _lodash2["default"].intersection(e.data.tags,a.tags).length}):e.data.publishedPosts;var r=_lodash2["default"].reduce(t,function(a,t){if(!t.tags)return a;var r=_lodash2["default"].reduce(t.tags,function(a,t){var r=(0,_hubpressCoreSlugify2["default"])(t);return e.data.post&&e.data.post.tags&&-1===e.data.post.tags.indexOf(t)||a.push(r),a},[]);return _lodash2["default"].uniq(r).forEach(function(e){a[e]=a[e]||[],a[e].push(t)}),a},{}),u=e;return _lodash2["default"].each(r,function(e,t){var r={name:t,slug:(0,_hubpressCoreSlugify2["default"])(t)};u=_paginationGenerator2["default"].generate({opts:u,posts:e,tag:r,template:a,path:"tag/"+t+"/"})}),u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateTags=generateTags;var _paginationGenerator=require("./paginationGenerator"),_paginationGenerator2=_interopRequireDefault(_paginationGenerator),_lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_builder=require("./builder"),_builder2=_interopRequireDefault(_builder),_hubpressCoreSlugify=require("hubpress-core-slugify"),_hubpressCoreSlugify2=_interopRequireDefault(_hubpressCoreSlugify);